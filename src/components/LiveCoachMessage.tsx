/**\n * Live Coach Message Component\n * Displays real-time coach messages with animations\n */\n\nimport React, { useEffect, useState } from 'react';\nimport { useCoachWebSocket } from '@/hooks/useCoachWebSocket';\nimport { useCoach } from '@/contexts/CoachContext';\nimport { MessageCircle, Zap } from 'lucide-react';\n\ninterface CoachMessage {\n  type: string;\n  data: any;\n  timestamp: string;\n}\n\nexport default function LiveCoachMessage() {\n  const { isConnected, messages } = useCoachWebSocket();\n  const { coach } = useCoach();\n  const [displayedMessage, setDisplayedMessage] = useState<CoachMessage | null>(null);\n  const [isAnimating, setIsAnimating] = useState(false);\n\n  // Show latest message\n  useEffect(() => {\n    if (messages.length > 0) {\n      const latestMessage = messages[messages.length - 1];\n      setDisplayedMessage(latestMessage);\n      setIsAnimating(true);\n\n      const timer = setTimeout(() => {\n        setIsAnimating(false);\n      }, 5000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [messages]);\n\n  if (!displayedMessage || !isConnected) {\n    return null;\n  }\n\n  const getCoachReaction = () => {\n    switch (displayedMessage.type) {\n      case 'achievement_unlocked':\n        return 'ğŸ†';\n      case 'match_update':\n        return 'âš”ï¸';\n      case 'flow_state':\n        return 'ğŸŒŠ';\n      default:\n        return 'ğŸ’¬';\n    }\n  };\n\n  return (\n    <div\n      className={`fixed bottom-6 right-6 max-w-sm z-50 transition-all duration-500 ${\n        isAnimating ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-4 pointer-events-none'\n      }`}\n    >\n      <div className=\"gaming-card p-4 bg-gradient-to-br from-slate-900/95 to-blue-900/50 border-2 border-cyan-500/50 neon-glow shadow-2xl\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"text-3xl flex-shrink-0\">{getCoachReaction()}</div>\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-xs font-bold text-cyan-400 uppercase tracking-wider mb-2\">\n              {coach?.personality?.name || 'Coach'}\n            </p>\n            <p className=\"text-sm text-white leading-relaxed break-words\">\n              {displayedMessage.data.message || displayedMessage.data.text}\n            </p>\n          </div>\n          <Zap className=\"w-4 h-4 text-cyan-400 flex-shrink-0 animate-pulse\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n
