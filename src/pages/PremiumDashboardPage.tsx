/**\n * Premium Dashboard Page\n * Manage premium subscriptions and features\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { Check, X, Zap, Shield, Sparkles } from 'lucide-react';\n\ninterface PremiumPlan {\n  id: string;\n  name: string;\n  price: number;\n  billingCycle: 'monthly' | 'yearly';\n  features: string[];\n  popular: boolean;\n}\n\ninterface UserSubscription {\n  planId: string;\n  status: 'active' | 'cancelled' | 'expired';\n  currentPeriodStart: Date;\n  currentPeriodEnd: Date;\n  autoRenew: boolean;\n}\n\nexport default function PremiumDashboardPage() {\n  const [subscription, setSubscription] = useState<UserSubscription | null>(null);\n  const [selectedPlan, setSelectedPlan] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const plans: PremiumPlan[] = [\n    {\n      id: 'free',\n      name: 'Free',\n      price: 0,\n      billingCycle: 'monthly',\n      features: [\n        'Basic coach personality',\n        '3 matches per day analysis',\n        'Limited leaderboard access',\n        'Basic achievements',\n      ],\n      popular: false,\n    },\n    {\n      id: 'premium',\n      name: 'Premium',\n      price: 4.99,\n      billingCycle: 'monthly',\n      features: [\n        'Advanced coach personality',\n        'Unlimited match analysis',\n        'Full leaderboard access',\n        'All achievements',\n        'Real-time match tracking',\n        'AI coach voice reactions',\n        'Advanced analytics',\n        'Priority support',\n      ],\n      popular: true,\n    },\n    {\n      id: 'pro',\n      name: 'Pro',\n      price: 9.99,\n      billingCycle: 'monthly',\n      features: [\n        'Everything in Premium',\n        'Replay video analysis',\n        'Tournament hosting',\n        'Streaming integration',\n        'Custom coach personality',\n        'Skill prediction (ML)',\n        'Team coaching features',\n        '24/7 priority support',\n      ],\n      popular: false,\n    },\n  ];\n\n  useEffect(() => {\n    // Fetch user subscription\n    fetchSubscription();\n  }, []);\n\n  const fetchSubscription = async () => {\n    try {\n      const response = await fetch('/api/payment/subscription');\n      const data = await response.json();\n      setSubscription(data);\n    } catch (error) {\n      console.error('Failed to fetch subscription:', error);\n    }\n  };\n\n  const handleUpgrade = async (planId: string) => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/payment/checkout', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ planId }),\n      });\n\n      const data = await response.json();\n      if (data.checkoutUrl) {\n        window.location.href = data.checkoutUrl;\n      }\n    } catch (error) {\n      console.error('Failed to upgrade:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCancel = async () => {\n    if (!confirm('Are you sure you want to cancel your subscription?')) {\n      return;\n    }\n\n    try {\n      await fetch('/api/payment/subscription', { method: 'DELETE' });\n      setSubscription(null);\n    } catch (error) {\n      console.error('Failed to cancel subscription:', error);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-slate-950 text-white p-6\">\n      {/* Header */}\n      <div className=\"mb-12\">\n        <h1 className=\"text-4xl font-bold text-cyan-400 uppercase tracking-wider mb-2\">Premium Plans</h1>\n        <p className=\"text-slate-400\">Unlock advanced coaching features</p>\n      </div>\n\n      {/* Current Subscription */}\n      {subscription && subscription.status === 'active' && (\n        <div className=\"gaming-card p-6 bg-gradient-to-r from-purple-900/50 to-blue-900/50 border-2 border-purple-500/30 neon-glow mb-12\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h2 className=\"text-2xl font-bold text-purple-400 mb-2\">Current Plan</h2>\n              <p className=\"text-slate-300 mb-4\">\n                Your subscription is active until{' '}\n                <span className=\"text-cyan-400 font-bold\">\n                  {new Date(subscription.currentPeriodEnd).toLocaleDateString()}\n                </span>\n              </p>\n              <button\n                onClick={handleCancel}\n                className=\"px-4 py-2 bg-red-500/20 border border-red-500 text-red-400 rounded hover:bg-red-500/30 transition\"\n              >\n                Cancel Subscription\n              </button>\n            </div>\n            <Sparkles className=\"w-12 h-12 text-purple-400\" />\n          </div>\n        </div>\n      )}\n\n      {/* Plans Grid */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12\">\n        {plans.map((plan) => (\n          <div\n            key={plan.id}\n            className={`gaming-card p-6 rounded-lg transition transform hover:scale-105 ${\n              plan.popular\n                ? 'bg-gradient-to-b from-cyan-900/50 to-blue-900/50 border-2 border-cyan-500 neon-glow'\n                : 'bg-slate-900/50 border-2 border-slate-700 hover:border-slate-600'\n            }`}\n          >\n            {plan.popular && (\n              <div className=\"mb-4 inline-block px-3 py-1 bg-cyan-500/20 border border-cyan-500 text-cyan-400 text-xs font-bold rounded uppercase\">\n                Most Popular\n              </div>\n            )}\n\n            <h3 className=\"text-2xl font-bold mb-2 text-white\">{plan.name}</h3>\n            <div className=\"mb-6\">\n              <span className=\"text-4xl font-bold text-cyan-400\">${plan.price}</span>\n              <span className=\"text-slate-400 ml-2\">/{plan.billingCycle === 'monthly' ? 'month' : 'year'}</span>\n            </div>\n\n            {/* Features */}\n            <div className=\"space-y-3 mb-6\">\n              {plan.features.map((feature, idx) => (\n                <div key={idx} className=\"flex items-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mr-3\" />\n                  <span className=\"text-sm text-slate-300\">{feature}</span>\n                </div>\n              ))}\n            </div>\n\n            {/* CTA Button */}\n            <button\n              onClick={() => handleUpgrade(plan.id)}\n              disabled={loading || (subscription && subscription.planId === plan.id)}\n              className={`w-full py-3 rounded font-bold uppercase tracking-wider transition ${\n                subscription && subscription.planId === plan.id\n                  ? 'bg-slate-700 text-slate-400 cursor-not-allowed'\n                  : plan.popular\n                  ? 'bg-cyan-500 text-white hover:bg-cyan-600'\n                  : 'bg-slate-700 text-white hover:bg-slate-600'\n              }`}\n            >\n              {subscription && subscription.planId === plan.id ? 'Current Plan' : 'Upgrade'}\n            </button>\n          </div>\n        ))}\n      </div>\n\n      {/* Feature Comparison */}\n      <div className=\"gaming-card p-6 bg-slate-900/50 border-2 border-slate-700 rounded-lg\">\n        <h2 className=\"text-2xl font-bold text-cyan-400 uppercase mb-6\">Feature Comparison</h2>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b border-slate-700\">\n                <th className=\"text-left py-3 px-4 text-slate-300\">Feature</th>\n                <th className=\"text-center py-3 px-4 text-slate-300\">Free</th>\n                <th className=\"text-center py-3 px-4 text-cyan-400 font-bold\">Premium</th>\n                <th className=\"text-center py-3 px-4 text-cyan-400 font-bold\">Pro</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr className=\"border-b border-slate-800\">\n                <td className=\"py-3 px-4\">Match Analysis</td>\n                <td className=\"text-center\">3/day</td>\n                <td className=\"text-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mx-auto\" />\n                </td>\n                <td className=\"text-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mx-auto\" />\n                </td>\n              </tr>\n              <tr className=\"border-b border-slate-800\">\n                <td className=\"py-3 px-4\">Real-time Tracking</td>\n                <td className=\"text-center\">\n                  <X className=\"w-5 h-5 text-slate-600 mx-auto\" />\n                </td>\n                <td className=\"text-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mx-auto\" />\n                </td>\n                <td className=\"text-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mx-auto\" />\n                </td>\n              </tr>\n              <tr className=\"border-b border-slate-800\">\n                <td className=\"py-3 px-4\">Replay Analysis</td>\n                <td className=\"text-center\">\n                  <X className=\"w-5 h-5 text-slate-600 mx-auto\" />\n                </td>\n                <td className=\"text-center\">\n                  <X className=\"w-5 h-5 text-slate-600 mx-auto\" />\n                </td>\n                <td className=\"text-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mx-auto\" />\n                </td>\n              </tr>\n              <tr>\n                <td className=\"py-3 px-4\">AI Voice Reactions</td>\n                <td className=\"text-center\">\n                  <X className=\"w-5 h-5 text-slate-600 mx-auto\" />\n                </td>\n                <td className=\"text-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mx-auto\" />\n                </td>\n                <td className=\"text-center\">\n                  <Check className=\"w-5 h-5 text-cyan-400 mx-auto\" />\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  );\n}\n
