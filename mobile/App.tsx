import React, { useEffect } from 'react';\nimport { StatusBar } from 'expo-status-bar';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport * as Notifications from 'expo-notifications';\nimport { Ionicons } from '@expo/vector-icons';\n\n// Screens\nimport LoginScreen from './screens/LoginScreen';\nimport DashboardScreen from './screens/DashboardScreen';\nimport CoachOSScreen from './screens/CoachOSScreen';\nimport LeaderboardScreen from './screens/LeaderboardScreen';\nimport SocialScreen from './screens/SocialScreen';\nimport SettingsScreen from './screens/SettingsScreen';\n\nconst Stack = createNativeStackNavigator();\nconst Tab = createBottomTabNavigator();\n\n// Configure notifications\nNotifications.setNotificationHandler({\n  handleNotification: async () => ({\n    shouldShowAlert: true,\n    shouldPlaySound: true,\n    shouldSetBadge: true,\n  }),\n});\n\nfunction DashboardTabs() {\n  return (\n    <Tab.Navigator\n      screenOptions={({ route }) => ({\n        headerShown: false,\n        tabBarIcon: ({ focused, color, size }) => {\n          let iconName: keyof typeof Ionicons.glyphMap = 'home';\n\n          if (route.name === 'Dashboard') {\n            iconName = focused ? 'home' : 'home-outline';\n          } else if (route.name === 'CoachOS') {\n            iconName = focused ? 'sparkles' : 'sparkles-outline';\n          } else if (route.name === 'Leaderboard') {\n            iconName = focused ? 'podium' : 'podium-outline';\n          } else if (route.name === 'Social') {\n            iconName = focused ? 'people' : 'people-outline';\n          } else if (route.name === 'Settings') {\n            iconName = focused ? 'settings' : 'settings-outline';\n          }\n\n          return <Ionicons name={iconName} size={size} color={color} />;\n        },\n        tabBarActiveTintColor: '#0ea5e9',\n        tabBarInactiveTintColor: '#64748b',\n        tabBarStyle: {\n          backgroundColor: '#0f172a',\n          borderTopColor: '#1e293b',\n          borderTopWidth: 1,\n        },\n      })}\n    >\n      <Tab.Screen name=\"Dashboard\" component={DashboardScreen} />\n      <Tab.Screen name=\"CoachOS\" component={CoachOSScreen} />\n      <Tab.Screen name=\"Leaderboard\" component={LeaderboardScreen} />\n      <Tab.Screen name=\"Social\" component={SocialScreen} />\n      <Tab.Screen name=\"Settings\" component={SettingsScreen} />\n    </Tab.Navigator>\n  );\n}\n\nexport default function App() {\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n  useEffect(() => {\n    // Request notification permissions\n    const requestPermissions = async () => {\n      const { status } = await Notifications.requestPermissionsAsync();\n      if (status !== 'granted') {\n        console.log('Notification permissions not granted');\n      }\n    };\n\n    requestPermissions();\n\n    // Listen for notifications\n    const subscription = Notifications.addNotificationResponseReceivedListener((response) => {\n      console.log('Notification received:', response);\n    });\n\n    return () => subscription.remove();\n  }, []);\n\n  return (\n    <NavigationContainer>\n      <StatusBar barStyle=\"light-content\" backgroundColor=\"#0a0e27\" />\n      <Stack.Navigator\n        screenOptions={{\n          headerShown: false,\n          cardStyle: { backgroundColor: '#0a0e27' },\n        }}\n      >\n        {!isLoggedIn ? (\n          <Stack.Screen\n            name=\"Login\"\n            component={LoginScreen}\n            options={{ animationEnabled: false }}\n          />\n        ) : (\n          <Stack.Screen\n            name=\"Main\"\n            component={DashboardTabs}\n            options={{ animationEnabled: false }}\n          />\n        )}\n      </Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n
